# الدرس 23: البحث عن الصور

## المقدمة

وظيفة **البحث عن الصور** تتيح البحث السريع عن الصور في قاعدة بيانات PyArchInit بالتصفية حسب الموقع ونوع الكيان ومعايير أخرى. هي أداة مكملة لمدير الوسائط للبحث الشامل.

## الوصول

### من القائمة
**PyArchInit** ← **البحث عن الصور**

## الواجهة

### لوحة البحث

```
+--------------------------------------------------+
|           البحث عن الصور                          |
+--------------------------------------------------+
| المرشحات:                                         |
|   الموقع: [قائمة منسدلة]                         |
|   نوع الكيان: [-- الكل -- | US | Pottery | ...] |
|   [ ] الصور غير المُعلمة فقط                     |
+--------------------------------------------------+
| [بحث]  [مسح]                                     |
+--------------------------------------------------+
| النتائج:                                          |
|  +------+  +------+  +------+                    |
|  | صورة |  | صورة |  | صورة |                    |
|  | معلومات|  | معلومات|  | معلومات|              |
|  +------+  +------+  +------+                    |
+--------------------------------------------------+
| [فتح الصورة] [تصدير] [الذهاب للسجل]              |
+--------------------------------------------------+
```

### المرشحات المتاحة

| المرشح | الوصف |
|--------|-------|
| الموقع | اختيار موقع محدد أو الكل |
| نوع الكيان | الوحدة الطبقية، الفخار، المواد، القبر، الهيكل، الوحدة الطبوغرافية |
| غير المُعلمة فقط | عرض الصور بدون روابط فقط |

### أنواع الكيانات

| النوع | الوصف |
|-------|-------|
| -- الكل -- | جميع الكيانات |
| الوحدة الطبقية | الوحدات الطبقية |
| الفخار | السيراميك |
| المواد | القطع/الجرد |
| القبر | المدافن |
| الهيكل | الهياكل |
| الوحدة الطبوغرافية | الوحدات الطبوغرافية |

## الوظائف

### البحث الأساسي

1. اختيار المرشحات المطلوبة
2. النقر على **"بحث"**
3. عرض النتائج في الشبكة

### الإجراءات على النتائج

| الزر | الوظيفة |
|------|---------|
| فتح الصورة | عرض الصورة بالحجم الأصلي |
| تصدير | تصدير الصورة المحددة |
| الذهاب للسجل | فتح بطاقة الكيان المرتبط |
| فتح مدير الوسائط | فتح مدير الوسائط مع الصورة المحددة |

### القائمة السياقية (نقر يمين)

- **فتح الصورة**
- **تصدير الصورة...**
- **الذهاب للسجل**

### البحث عن الصور غير المُعلمة

خانة اختيار **"الصور غير المُعلمة فقط"**:
- إيجاد الصور في قاعدة البيانات بدون روابط
- مفيد للتنظيف والترتيب
- يتيح تحديد الصور للتصنيف

## سير العمل النموذجي

### 1. إيجاد صور موقع

```
1. اختيار الموقع من القائمة المنسدلة
2. ترك "-- الكل --" لنوع الكيان
3. النقر على بحث
4. تصفح النتائج
```

### 2. إيجاد صور وحدات طبقية محددة

```
1. اختيار الموقع
2. اختيار "الوحدة الطبقية" كنوع الكيان
3. النقر على بحث
4. نقر مزدوج لفتح الصورة
```

### 3. تحديد الصور غير المُصنفة

```
1. اختيار الموقع (أو الكل)
2. تفعيل "الصور غير المُعلمة فقط"
3. النقر على بحث
4. لكل نتيجة:
   - فتح الصورة
   - تحديد المحتوى
   - الربط عبر مدير الوسائط
```

## التصدير

### تصدير صورة مفردة

1. تحديد الصورة في النتائج
2. النقر على **"تصدير"** أو القائمة السياقية
3. اختيار الوجهة
4. الحفظ

### التصدير المتعدد

لتصدير عدة صور، استخدام وظيفة **تصدير الصور** المخصصة (الدرس 24).

## أفضل الممارسات

### 1. البحث الفعال

- استخدام مرشحات محددة للنتائج المستهدفة
- البدء بمرشحات واسعة، ثم التضييق
- استخدام البحث عن غير المُعلمة دورياً

### 2. التنظيم

- تصنيف الصور غير المُعلمة بانتظام
- التحقق من الروابط بعد الاستيراد
- الحفاظ على تسمية متسقة

## حل المشكلات

### لا توجد نتائج

**الأسباب**:
- المرشحات مقيدة جداً
- لا توجد صور للمعايير

**الحلول**:
- توسيع المرشحات
- التحقق من وجود البيانات

### الصورة غير قابلة للعرض

**الأسباب**:
- الملف غير موجود
- الصيغة غير مدعومة

**الحلول**:
- التحقق من مسار الملف
- فحص صيغة الصورة

## المراجع

### الملفات المصدرية
- `tabs/Image_search.py` - واجهة البحث
- `gui/ui/pyarchinit_image_search_dialog.ui` - تخطيط واجهة المستخدم

### قاعدة البيانات
- `media_table` - بيانات الوسائط
- `media_to_entity_table` - الروابط

---

## فيديو تعليمي

### البحث عن الصور
`[فيديو مؤقت: video_ricerca_immagini.mp4]`

**المحتويات**:
- استخدام المرشحات
- البحث المتقدم
- تصدير النتائج

**المدة المتوقعة**: 8-10 دقائق

---

*آخر تحديث: يناير 2026*

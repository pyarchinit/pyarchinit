# الدرس 29: إنشاء خريطتك (Make Your Map)

## المقدمة

**إنشاء خريطتك** هي وظيفة PyArchInit لتوليد الخرائط وتخطيطات الطباعة الاحترافية مباشرة من العرض الحالي في QGIS. تستخدم قوالب التخطيط المُعدة مسبقاً لإنشاء مخرجات خرائطية موحدة.

### الوظائف

- توليد سريع للخرائط من العرض الحالي
- قوالب مُعدة مسبقاً لصيغ مختلفة
- تخصيص العناوين والأساطير
- التصدير إلى PDF، PNG، SVG

## الوصول

### من شريط الأدوات
أيقونة **"إنشاء خريطتك"** (طابعة) في شريط أدوات PyArchInit

### من القائمة
**PyArchInit** ← **إنشاء خريطتك**

## الاستخدام الأساسي

### التوليد السريع

1. تكوين عرض الخريطة المطلوب في QGIS
2. ضبط التكبير والامتداد الصحيحين
3. النقر على **"إنشاء خريطتك"**
4. اختيار القالب المطلوب
5. إدخال العنوان والمعلومات
6. توليد الخريطة

## القوالب المتاحة

### الصيغ القياسية

| القالب | الصيغة | الاتجاه | الاستخدام |
|--------|--------|---------|-----------|
| A4 عمودي | A4 | عمودي | التوثيق القياسي |
| A4 أفقي | A4 | أفقي | العروض الممتدة |
| A3 عمودي | A3 | عمودي | اللوحات المفصلة |
| A3 أفقي | A3 | أفقي | المخططات |

### عناصر القالب

كل قالب يتضمن:
- **منطقة الخريطة** - العرض الرئيسي
- **العنوان** - عنوان ومعلومات المشروع
- **المقياس** - شريط المقياس الرسومي
- **الشمال** - سهم الشمال
- **الأسطورة** - رموز الطبقات
- **الإطار** - المعلومات التقنية

## التخصيص

### المعلومات القابلة للإدخال

| الحقل | الوصف |
|-------|-------|
| العنوان | اسم الخريطة |
| العنوان الفرعي | وصف إضافي |
| الموقع | اسم الموقع الأثري |
| المنطقة | رقم المنطقة |
| التاريخ | تاريخ الإنشاء |
| المؤلف | اسم المؤلف |
| المقياس | مقياس التمثيل |

### نمط الخريطة

قبل التوليد:
1. تكوين أنماط الطبقات في QGIS
2. تفعيل/إلغاء تفعيل الطبقات المطلوبة
3. ضبط التسميات
4. التحقق من الأسطورة

## التصدير

### الصيغ المتاحة

| الصيغة | الاستخدام | الجودة |
|--------|-----------|--------|
| PDF | الطباعة، الأرشفة | موجهة |
| PNG | الويب، العروض التقديمية | نقطية |
| SVG | التحرير، النشر | موجهة |
| JPG | الويب، المعاينة | نقطية مضغوطة |

### الدقة

| DPI | الاستخدام |
|-----|-----------|
| 96 | الشاشة/المعاينة |
| 150 | النشر على الويب |
| 300 | الطباعة القياسية |
| 600 | الطباعة عالية الجودة |

## التكامل مع مدير الزمن

### توليد التسلسل

بالتزامن مع مدير الزمن:
1. تكوين مدير الزمن
2. لكل مستوى طبقي:
   - ضبط المستوى
   - توليد الخريطة
   - الحفظ باسم تسلسلي

### مخرجات الرسوم المتحركة

سلسلة خرائط لـ:
- العروض التقديمية
- فيديو متسارع
- التوثيق التدريجي

## سير العمل النموذجي

### 1. التحضير

```
1. تحميل الطبقات اللازمة
2. تكوين الأنماط المناسبة
3. ضبط نظام المرجع
4. تحديد امتداد الخريطة
```

### 2. تكوين العرض

```
1. التكبير على منطقة الاهتمام
2. تفعيل/إلغاء تفعيل الطبقات
3. التحقق من التسميات
4. فحص الأسطورة
```

### 3. التوليد

```
1. النقر على إنشاء خريطتك
2. اختيار القالب
3. تعبئة المعلومات
4. اختيار صيغة التصدير
5. الحفظ
```

## أفضل الممارسات

### 1. قبل التوليد

- التحقق من اكتمال البيانات
- فحص أنماط الطبقات
- ضبط المقياس المناسب

### 2. القوالب

- استخدام قوالب متسقة في المشروع
- تخصيص العناوين للمؤسسة
- الحفاظ على المعايير الخرائطية

### 3. المخرجات

- الحفظ بدقة عالية للطباعة
- الاحتفاظ بنسخة PDF للأرشفة
- استخدام تسمية وصفية

## تخصيص القوالب

### تعديل القالب

يمكن تعديل قوالب QGIS:
1. فتح مدير التخطيط في QGIS
2. تعديل القالب الموجود
3. الحفظ كقالب جديد
4. متاح في إنشاء خريطتك

### إنشاء قالب

1. إنشاء تخطيط جديد في QGIS
2. إضافة العناصر اللازمة
3. تكوين المتغيرات للحقول الديناميكية
4. الحفظ في مجلد القوالب

## حل المشكلات

### الخريطة فارغة

**الأسباب**:
- لا توجد طبقة نشطة
- الامتداد خاطئ

**الحلول**:
- تفعيل الطبقات المرئية
- التكبير على المنطقة ذات البيانات

### الأسطورة غير مكتملة

**السبب**: الطبقات غير مُكونة بشكل صحيح

**الحل**: التحقق من خصائص الطبقة في QGIS

### فشل التصدير

**الأسباب**:
- مسار غير قابل للكتابة
- صيغة غير مدعومة

**الحلول**:
- التحقق من أذونات المجلد
- اختيار صيغة مختلفة

## المراجع

### الملفات المصدرية
- `pyarchinitPlugin.py` - وظيفة runPrint
- القوالب في مجلد `resources/templates/`

### QGIS
- مدير التخطيط
- مؤلف الطباعة

---

## فيديو تعليمي

### إنشاء خريطتك
`[فيديو مؤقت: video_make_map.mp4]`

**المحتويات**:
- إعداد العرض
- استخدام القوالب
- التخصيص
- تصدير الصيغ

**المدة المتوقعة**: 10-12 دقيقة

---

*آخر تحديث: يناير 2026*

---

## رسوم متحركة تفاعلية

استكشف الرسوم المتحركة التفاعلية لمعرفة المزيد حول هذا الموضوع.

[افتح الرسوم المتحركة التفاعلية](../../pyarchinit_create_map_animation.html)

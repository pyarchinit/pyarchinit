# الدرس 16: بطاقة الفخار (السيراميك المتخصص)

## الفهرس
1. [المقدمة](#المقدمة)
2. [الوصول إلى البطاقة](#الوصول-إلى-البطاقة)
3. [واجهة المستخدم](#واجهة-المستخدم)
4. [الحقول الرئيسية](#الحقول-الرئيسية)
5. [تبويبات البطاقة](#تبويبات-البطاقة)
6. [أدوات الفخار](#أدوات-الفخار)
7. [البحث بالتشابه البصري](#البحث-بالتشابه-البصري)
8. [الإحصاءات](#الإحصاءات)
9. [إدارة الوسائط](#إدارة-الوسائط)
10. [التصدير والتقارير](#التصدير-والتقارير)
11. [سير العمل التشغيلي](#سير-العمل-التشغيلي)
12. [أفضل الممارسات](#أفضل-الممارسات)
13. [استكشاف الأخطاء وإصلاحها](#استكشاف-الأخطاء-وإصلاحها)

---

## المقدمة

**بطاقة الفخار** هي أداة متخصصة للتصنيف المفصل للسيراميك الأثري. على عكس بطاقة جرد المواد (الأكثر عمومية)، صُممت هذه البطاقة خصيصاً للتحليل السيراميكي المعمق، مع حقول مخصصة للعجينة، والصنف، والزخارف، والقياسات الخاصة بالأواني.

### الفروق مع بطاقة جرد المواد

| الجانب | جرد المواد | الفخار |
|--------|-----------|--------|
| **الغرض** | جميع أنواع القطع | السيراميك فقط |
| **التفصيل** | عام | متخصص |
| **حقول العجينة** | الجسم السيراميكي (عام) | العجينة المفصلة |
| **الزخارف** | حقل واحد | داخلية/خارجية منفصلة |
| **القياسات** | عامة | خاصة بالأواني |
| **أدوات AI** | SketchGPT | PotteryInk, YOLO, بحث التشابه |

### الوظائف المتقدمة

تتضمن بطاقة الفخار وظائف AI متطورة:
- **PotteryInk**: توليد تلقائي للرسومات الأثرية من الصور
- **YOLO Detection**: تعريف تلقائي لأشكال السيراميك
- **بحث التشابه البصري**: البحث عن سيراميك مشابه عبر التضمينات البصرية
- **مولد التخطيط**: توليد تلقائي للوحات السيراميكية

---

## الوصول إلى البطاقة

### من القائمة

1. فتح QGIS مع تفعيل إضافة PyArchInit
2. قائمة **PyArchInit** ← **إدارة السجلات الأثرية** ← **القطع** ← **الفخار**

### من شريط الأدوات

1. تحديد شريط أدوات PyArchInit
2. النقر على أيقونة **الفخار** (أيقونة إناء/أمفورة سيراميكية)

---

## واجهة المستخدم

الواجهة منظمة بكفاءة للتصنيف السيراميكي:

### المناطق الرئيسية

| المنطقة | الوصف |
|---------|-------|
| **1. الرأس** | شريط أدوات DBMS، مؤشرات الحالة، المرشحات |
| **2. التعريف** | الموقع، المنطقة، الوحدة الطبقية، رقم التعريف، الصندوق، الكيس |
| **3. التصنيف** | الشكل، الصنف، العجينة، المادة |
| **4. تبويب التفاصيل** | بيانات الوصف، البيانات التقنية، الملحقات |
| **5. لوحة الوسائط** | عارض الصور، المعاينة |

### التبويبات المتاحة

| التبويب | المحتوى |
|---------|---------|
| **بيانات الوصف** | الوصف، الزخارف، الملاحظات |
| **البيانات التقنية** | القياسات، معالجة السطح، Munsell |
| **الملحقات** | الببليوغرافيا، الإحصاءات |

---

## الحقول الرئيسية

### حقول التعريف

#### رقم التعريف (ID Number)
- **النوع**: Integer
- **إلزامي**: نعم
- **الوصف**: رقم تعريفي فريد للشظية السيراميكية
- **القيد**: فريد لكل موقع

#### الموقع
- **النوع**: ComboBox
- **إلزامي**: نعم
- **الوصف**: الموقع الأثري للمصدر

#### المنطقة
- **النوع**: ComboBox قابل للتحرير
- **الوصف**: منطقة الحفر

#### الوحدة الطبقية (US)
- **النوع**: Integer
- **الوصف**: رقم الوحدة الطبقية المصدرية

#### القطاع
- **النوع**: Text
- **الوصف**: القطاع المحدد للعثور

### حقول الإيداع

#### الصندوق (Box)
- **النوع**: Integer
- **الوصف**: رقم صندوق الإيداع

#### الكيس (Bag)
- **النوع**: Integer
- **الوصف**: رقم الكيس

#### السنة
- **النوع**: Integer
- **الوصف**: سنة العثور/التصنيف

### حقول تصنيف السيراميك

#### الشكل (Form)
- **النوع**: ComboBox قابل للتحرير
- **إلزامي**: موصى به
- **القيم النموذجية**: Bowl، Jar، Jug، Plate، Cup، Amphora، Lid، إلخ.
- **الوصف**: الشكل العام للإناء

#### الشكل المحدد (Specific Form)
- **النوع**: ComboBox قابل للتحرير
- **الوصف**: النمط المحدد (مثل Hayes 50، Dressel 1)

#### الشكل الخاص
- **النوع**: Text
- **الوصف**: المتغير المورفولوجي المفصل

#### الصنف (Ware)
- **النوع**: ComboBox قابل للتحرير
- **الوصف**: فئة السيراميك
- **أمثلة**:
  - African Red Slip
  - Italian Sigillata
  - Thin Walled Ware
  - Coarse Ware
  - Amphora
  - Cooking Ware

#### المادة (Material)
- **النوع**: ComboBox قابل للتحرير
- **الوصف**: المادة الأساسية
- **القيم**: Ceramic، Terracotta، Porcelain، إلخ.

#### العجينة (Fabric)
- **النوع**: ComboBox قابل للتحرير
- **الوصف**: نوع العجينة السيراميكية
- **الخصائص للاعتبار**:
  - لون العجينة
  - حجم حبيبات الشوائب
  - الصلابة
  - المسامية

### حقول الحفظ

#### النسبة المئوية (Percent)
- **النوع**: ComboBox قابل للتحرير
- **الوصف**: النسبة المئوية المحفوظة من الإناء
- **القيم النموذجية**: <10%، 10-25%، 25-50%، 50-75%، >75%، كامل

#### الكمية (QTY)
- **النوع**: Integer
- **الوصف**: عدد الشظايا

### حقول التوثيق

#### الصورة (Photo)
- **النوع**: Text
- **الوصف**: مرجع فوتوغرافي

#### الرسم (Drawing)
- **النوع**: Text
- **الوصف**: مرجع الرسم

---

## تبويبات البطاقة

### التبويب 1: بيانات الوصف

التبويب الرئيسي لوصف الشظية.

#### الزخارف

| الحقل | الوصف |
|-------|-------|
| **الزخرفة الخارجية** | نوع الزخرفة الخارجية |
| **الزخرفة الداخلية** | نوع الزخرفة الداخلية |
| **وصف الزخرفة الخارجية** | وصف مفصل للزخرفة الخارجية |
| **وصف الزخرفة الداخلية** | وصف مفصل للزخرفة الداخلية |
| **نوع الزخرفة** | النمط الزخرفي (مطلي، محفور، تطبيقي، إلخ.) |
| **موتيف الزخرفة** | الموتيف الزخرفي (هندسي، نباتي، تصويري) |
| **موقع الزخرفة** | موقع الزخرفة (حافة، جسم، قاعدة، مقبض) |

#### صنع بالعجلة (Wheel Made)
- **النوع**: ComboBox
- **القيم**: نعم، لا، غير معروف
- **الوصف**: يشير إلى ما إذا كان الإناء صُنع على الدولاب

#### الملاحظات
- **النوع**: TextEdit متعدد الأسطر
- **الوصف**: ملاحظات إضافية وملاحظات

#### عارض الوسائط
منطقة لعرض الصور المرتبطة:
- سحب وإفلات لربط الصور
- نقر مزدوج لفتح العارض الكامل
- أزرار لإدارة العلامات

### التبويب 2: البيانات التقنية

البيانات التقنية والقياسات.

#### لون Munsell
- **النوع**: ComboBox قابل للتحرير
- **الوصف**: رمز لون Munsell للعجينة
- **الصيغة**: مثل "10YR 7/4"، "5YR 6/6"
- **ملاحظة**: الرجوع إلى مخطط ألوان التربة Munsell

#### معالجة السطح
- **النوع**: ComboBox قابل للتحرير
- **الوصف**: المعالجة السطحية
- **القيم النموذجية**:
  - Slip (طلاء)
  - Burnished (مصقول)
  - Glazed (مزجج)
  - Painted (مطلي)
  - Plain (بسيط)

#### القياسات (بالسم)

| الحقل | الوصف |
|-------|-------|
| **القطر الأقصى** | القطر الأقصى للإناء |
| **قطر الحافة** | قطر الحافة |
| **قطر القاعدة** | قطر القاعدة |
| **الارتفاع الكلي** | الارتفاع الكلي (إذا كان قابلاً للإعادة) |
| **الارتفاع المحفوظ** | الارتفاع المحفوظ |

#### التأريخ
- **النوع**: ComboBox قابل للتحرير
- **الوصف**: الإطار الزمني
- **الصيغة**: نصي (مثل "القرن الأول-الثاني م")

### التبويب 3: الملحقات

تبويب مع أقسام فرعية للبيانات الإضافية.

#### التبويب الفرعي: الببليوغرافيا
إدارة المراجع الببليوغرافية للمقارنات النمطية.

| العمود | الوصف |
|--------|-------|
| المؤلف | المؤلف/ون |
| السنة | سنة النشر |
| العنوان | العنوان المختصر |
| الصفحة | صفحة المرجع |
| الشكل | الشكل/اللوحة |

#### التبويب الفرعي: الإحصاءات
الوصول إلى وظائف الإحصاء والرسوم البيانية.

---

## أدوات الفخار (Pottery Tools)

تتضمن بطاقة الفخار مجموعة قوية من أدوات AI لمعالجة صور السيراميك.

### الوصول إلى أدوات الفخار

1. قائمة **PyArchInit** ← **إدارة السجلات الأثرية** ← **القطع** ← **أدوات الفخار**

أو من الزر المخصص في بطاقة الفخار.

### PotteryInk - توليد الرسومات

يحول الصور الفوتوغرافية للسيراميك تلقائياً إلى رسومات أثرية منمقة.

#### الاستخدام

1. اختيار صورة سيراميك
2. النقر على "توليد رسم"
3. يعالج النظام الصورة بـ AI
4. يُنشأ الرسم بأسلوب أثري

#### المتطلبات
- بيئة افتراضية مخصصة (تُنشأ تلقائياً)
- نماذج AI مدربة مسبقاً
- يُوصى بـ GPU للأداء الأمثل

### YOLO Pottery Detection

التعرف التلقائي على أشكال السيراميك في الصور.

#### الوظائف

- يحدد تلقائياً شكل الإناء
- يقترح التصنيف
- يكتشف الأجزاء التشريحية (حافة، جدار، قاعدة، مقبض)

### مولد التخطيط

يولد تلقائياً لوحات سيراميكية للنشر.

#### المخرجات

- لوحات بتنسيق أثري قياسي
- مقياس متري تلقائي
- ترتيب محسن
- تصدير بـ PDF أو صورة

### مستخرج PDF

يستخرج صور السيراميك من منشورات PDF للمقارنات.

---

## البحث بالتشابه البصري

وظيفة متقدمة لإيجاد سيراميك متشابه بصرياً في قاعدة البيانات.

### كيف يعمل

يستخدم النظام **التضمينات البصرية** المولدة من نماذج التعلم العميق لتمثيل كل صورة سيراميكية كمتجه عددي. يجد البحث السيراميك ذو المتجهات الأكثر تشابهاً.

### الاستخدام

1. اختيار صورة مرجعية
2. النقر على "إيجاد المشابه"
3. يبحث النظام في قاعدة البيانات
4. يُعرض السيراميك الأكثر تشابهاً مرتباً حسب التشابه

### النماذج المتاحة

- **ResNet50**: توازن جيد بين السرعة والدقة
- **EfficientNet**: أداء مثالي
- **CLIP**: بحث متعدد الوسائط (نص + صورة)

### تحديث التضمينات

تُولد التضمينات تلقائياً عند إضافة صور جديدة. يمكن فرض التحديث من قائمة أدوات الفخار.

---

## الإحصاءات

### الوصول

1. النقر على زر **Quant** في شريط الأدوات
2. اختيار معامل الإحصاء
3. عرض الرسم البياني

### المعاملات المتاحة

| المعامل | الوصف |
|---------|-------|
| **العجينة** | التوزيع حسب نوع العجينة |
| **الوحدة الطبقية** | التوزيع حسب الوحدة الطبقية |
| **المنطقة** | التوزيع حسب منطقة الحفر |
| **المادة** | التوزيع حسب المادة |
| **النسبة المئوية** | التوزيع حسب النسبة المحفوظة |
| **الشكل** | التوزيع حسب الشكل |
| **الشكل المحدد** | التوزيع حسب الشكل المحدد |
| **الصنف** | التوزيع حسب فئة السيراميك |
| **لون Munsell** | التوزيع حسب اللون |
| **معالجة السطح** | التوزيع حسب المعالجة السطحية |
| **الزخرفة الخارجية** | التوزيع حسب الزخرفة الخارجية |
| **الزخرفة الداخلية** | التوزيع حسب الزخرفة الداخلية |
| **صنع بالعجلة** | التوزيع دولاب نعم/لا |

### تصدير الإحصاءات

تُصدر البيانات في:
- ملف CSV في `pyarchinit_Quantificazioni_folder`
- رسم بياني معروض على الشاشة

---

## إدارة الوسائط

### ربط الصور

#### الطرق

1. **سحب وإفلات**: سحب الصور إلى القائمة
2. **زر جميع الصور**: تحميل جميع الصور المرتبطة
3. **بحث الصور**: البحث عن صور محددة

### مشغل الفيديو

للسيراميك مع توثيق فيديو، يتوفر مشغل مدمج.

### تكامل Cloudinary

دعم للصور البعيدة على Cloudinary:
- تحميل تلقائي للصور المصغرة
- ذاكرة تخزين مؤقت محلية للأداء
- مزامنة مع السحابة

---

## التصدير والتقارير

### تصدير PDF للبطاقة

يولد بطاقة PDF كاملة مع:
- بيانات التعريف
- التصنيف
- القياسات
- الصور المرتبطة
- الملاحظات

### تصدير القائمة

يولد قائمة PDF لجميع السجلات المعروضة.

### تصدير البيانات

زر للتصدير بتنسيق جدولي (CSV/Excel).

---

## سير العمل التشغيلي

### تصنيف شظية سيراميكية جديدة

#### الخطوة 1: الفتح وسجل جديد
1. فتح بطاقة الفخار
2. النقر على **سجل جديد**

#### الخطوة 2: بيانات التعريف
1. التحقق/اختيار **الموقع**
2. إدخال **رقم التعريف** (متتالي)
3. إدخال **المنطقة**، **الوحدة الطبقية**، **القطاع**
4. إدخال **الصندوق** و**الكيس**

#### الخطوة 3: التصنيف
1. اختيار **الشكل** (Bowl، Jar، إلخ.)
2. اختيار **الصنف** (فئة السيراميك)
3. اختيار **العجينة** (نوع العجينة)
4. تحديد **المادة** و**النسبة المئوية**

#### الخطوة 4: البيانات التقنية
1. فتح تبويب **البيانات التقنية**
2. إدخال **لون Munsell**
3. اختيار **معالجة السطح**
4. إدخال **القياسات** (الأقطار، الارتفاعات)
5. تحديد **صنع بالعجلة**

#### الخطوة 5: الزخارف (إن وُجدت)
1. العودة إلى تبويب **بيانات الوصف**
2. اختيار نوع **الزخرفة الخارجية/الداخلية**
3. ملء الأوصاف المفصلة
4. تحديد **نوع الزخرفة**، **الموتيف**، **الموقع**

#### الخطوة 6: التوثيق
1. ربط الصور (سحب وإفلات)
2. إدخال مرجع **الصورة** و**الرسم**
3. ملء **الملاحظات** بالملاحظات

#### الخطوة 7: التأريخ والمقارنات
1. إدخال **التأريخ**
2. فتح تبويب **الملحقات** ← **الببليوغرافيا**
3. إضافة المراجع الببليوغرافية

#### الخطوة 8: الحفظ
1. النقر على **حفظ**
2. التحقق من التأكيد

---

## أفضل الممارسات

### التصنيف المتسق

- استخدام مفردات موحدة للشكل، الصنف، العجينة
- الحفاظ على اتساق المصطلحات
- تحديث القاموس عند الضرورة

### التوثيق الفوتوغرافي

- تصوير كل شظية مع مقياس
- تضمين منظر داخلي وخارجي
- توثيق التفاصيل الزخرفية

### القياسات

- استخدام الفرجار للقياسات الدقيقة
- تحديد وحدة القياس دائماً (سم)
- للشظايا، قياس الأجزاء المحفوظة فقط

### لون Munsell

- استخدام مخطط ألوان التربة Munsell دائماً
- القياس على كسر جديد
- تحديد ظروف الإضاءة

### استخدام أدوات AI

- التحقق دائماً من النتائج التلقائية
- يعمل PotteryInk بشكل أفضل مع صور عالية الجودة
- البحث بالتشابه مفيد للمقارنات، وليس بديلاً للتحليل

---

## استكشاف الأخطاء وإصلاحها

### المشاكل الشائعة

#### رقم التعريف مكرر
- **الخطأ**: "يوجد سجل بهذا الرقم بالفعل"
- **الحل**: التحقق من الرقم التالي المتاح

#### أدوات الفخار لا تبدأ
- **السبب**: البيئة الافتراضية غير مُكونة
- **الحل**:
  1. التحقق من اتصال الإنترنت
  2. انتظار التكوين التلقائي
  3. فحص السجل في `pyarchinit/bin/pottery_venv`

#### PotteryInk بطيء
- **السبب**: المعالجة على CPU بدلاً من GPU
- **الحل**:
  1. تثبيت تعريفات CUDA (NVIDIA)
  2. التحقق من أن PyTorch يستخدم GPU

#### البحث بالتشابه فارغ
- **السبب**: التضمينات غير مُولدة
- **الحل**:
  1. فتح أدوات الفخار
  2. النقر على "تحديث التضمينات"
  3. انتظار الاكتمال

#### الصور لا تُحمل
- **السبب**: المسار غير صحيح أو Cloudinary غير مُكون
- **الحل**:
  1. التحقق من تكوين المسار في الإعدادات
  2. لـ Cloudinary: التحقق من بيانات الاعتماد

---

## فيديوهات تعليمية

### الفيديو 1: نظرة عامة على بطاقة الفخار
*المدة: 5-6 دقائق*

[فيديو مؤقت]

### الفيديو 2: تصنيف سيراميكي كامل
*المدة: 8-10 دقائق*

[فيديو مؤقت]

### الفيديو 3: أدوات الفخار و AI
*المدة: 10-12 دقيقة*

[فيديو مؤقت]

### الفيديو 4: البحث بالتشابه
*المدة: 5-6 دقائق*

[فيديو مؤقت]

---

## ملخص حقول قاعدة البيانات

| الحقل | النوع | قاعدة البيانات | إلزامي |
|-------|-------|----------------|--------|
| رقم التعريف | Integer | id_number | نعم |
| الموقع | Text | sito | نعم |
| المنطقة | Text | area | لا |
| الوحدة الطبقية | Integer | us | لا |
| الصندوق | Integer | box | لا |
| الكيس | Integer | bag | لا |
| القطاع | Text | sector | لا |
| الصورة | Text | photo | لا |
| الرسم | Text | drawing | لا |
| السنة | Integer | anno | لا |
| العجينة | Text | fabric | لا |
| النسبة المئوية | Text | percent | لا |
| المادة | Text | material | لا |
| الشكل | Text | form | لا |
| الشكل المحدد | Text | specific_form | لا |
| الشكل الخاص | Text | specific_shape | لا |
| الصنف | Text | ware | لا |
| لون Munsell | Text | munsell | لا |
| معالجة السطح | Text | surf_trat | لا |
| الزخرفة الخارجية | Text | exdeco | لا |
| الزخرفة الداخلية | Text | intdeco | لا |
| صنع بالعجلة | Text | wheel_made | لا |
| وصف الزخرفة الخارجية | Text | descrip_ex_deco | لا |
| وصف الزخرفة الداخلية | Text | descrip_in_deco | لا |
| الملاحظات | Text | note | لا |
| القطر الأقصى | Numeric | diametro_max | لا |
| الكمية | Integer | qty | لا |
| قطر الحافة | Numeric | diametro_rim | لا |
| قطر القاعدة | Numeric | diametro_bottom | لا |
| الارتفاع الكلي | Numeric | diametro_height | لا |
| الارتفاع المحفوظ | Numeric | diametro_preserved | لا |
| نوع الزخرفة | Text | decoration_type | لا |
| موتيف الزخرفة | Text | decoration_motif | لا |
| موقع الزخرفة | Text | decoration_position | لا |
| التأريخ | Text | datazione | لا |

---

*آخر تحديث: يناير 2026*
*PyArchInit - تحليل الفخار الأثري*

---

## رسوم متحركة تفاعلية

استكشف الرسوم المتحركة التفاعلية لمعرفة المزيد حول هذا الموضوع.

[افتح الرسوم المتحركة التفاعلية](../../animations/pyarchinit_pottery_tools_animation.html)
